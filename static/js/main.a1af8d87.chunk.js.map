{"version":3,"sources":["components/Images/Image.module.scss","pages/Image/Image.module.scss","components/Navbar/Navbar.module.scss","components/Images/Images.module.scss","components/Filter/Filter.module.scss","assets/transitions/fade.module.css","pages/Index/index.module.scss","pages/Favorites/Favorites.module.scss","store/actions/imageActions.js","components/Navbar/Navbar.js","layouts/Main/Main.js","assets/transitions/Fade.js","store/actions/filterActions.js","components/Filter/Filter.js","components/Images/Image.js","components/Images/Images.js","pages/Index/index.js","pages/Favorites/Favorites.js","pages/Image/Image.js","store/reducers/image.js","store/reducers/filter.js","store/reducers/root.js","store/store.js","index.js","components/App/App.js"],"names":["module","exports","image","dim","hidden","cover","details","info","stats","content","left","numbers","right","author","buttons","favorites","brand","navigation","searching","search","github","withBg","images","images-container","filter","upsidedown","active","color","by-category","by-style","order","by-color","enter","enterActive","exit","exitActive","urlBase","concat","process","fetchByIdSuccess","type","payload","fetchImages","options","dispatch","state","fetchImagesBegin","query","limit","_state$filter","byCategory","byColors","byImageType","bySize","filterOptions","page","axios","get","then","res","fetchImagesSuccess","data","hits","catch","err","console","log","withRouter","_ref","history","_useState","useState","_useState2","Object","slicedToArray","setQuery","_useState3","_useState4","isSearching","setSearching","_useState5","_useState6","scrollY","setScrollY","useDispatch","useEffect","window","addEventListener","react_default","a","createElement","className","styles","react_router_dom","to","join","onClick","placeholder","style","opacity","e","stopPropagation","onKeyUp","key","changeQuery","push","target","value","index_esm","Main","children","components_Navbar_Navbar","Fade","toggle","CSSTransition","in","timeout","unmountOnExit","classNames","objectSpread","fade","updateFilter","prop","Filter","useSelector","filterExpanded","toggleFilterExpanded","categories","colors","filters","handleClick","isStatic","innerText","trim","parentElement","article","document","querySelector","Array","from","forEach","el","classList","remove","add","fa_index_esm","map","category","backgroundColor","i","orderType","img","showCover","toggleShowCover","documentElement","clientWidth","wideEnough","setWideEnough","proportion","imageWidth","imageHeight","inlineStyle","gridColumn","id","onMouseOver","onMouseOut","src","largeImageURL","alt","user","tags","views","md_index_esm","likes","Images","loading","length","Images_Image","Index","props","height","windowSize","clientHeight","canIFetch","handleScroll","pageYOffset","scrollHeight","Math","floor","random","setTimeout","removeEventListener","Favorites","setFavorites","JSON","parse","localStorage","getItem","Image","hasNoProfileImage","setHasNoProfileImage","imgFromStore","find","toString","match","params","img_ID","imgFromFetch","fetchById","downloads","userImageURL","onError","unique","Set","setItem","stringify","addToStorage","download","href","initalState","initialState","combineReducers","arguments","undefined","action","defineProperty","toConsumableArray","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","es","basename","react_router","exact","path","component","getElementById"],"mappings":"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","file":"static/js/main.a1af8d87.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"Image_image__2RtBd\",\"dim\":\"Image_dim__14TuO\",\"hidden\":\"Image_hidden__QFiGa\",\"cover\":\"Image_cover__34a6N\",\"details\":\"Image_details__f8OCZ\",\"info\":\"Image_info__2P9rJ\",\"stats\":\"Image_stats__BHZaG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Image_content__1kTYX\",\"left\":\"Image_left__C96UZ\",\"numbers\":\"Image_numbers__23a9I\",\"right\":\"Image_right__1B2VB\",\"author\":\"Image_author__3eUlj\",\"buttons\":\"Image_buttons__3XuYG\",\"favorites\":\"Image_favorites__2Uo2w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"brand\":\"Navbar_brand__l4W2Z\",\"navigation\":\"Navbar_navigation__1pdhO\",\"searching\":\"Navbar_searching__3bg4E\",\"search\":\"Navbar_search__2Kv3m\",\"github\":\"Navbar_github__1JU01\",\"withBg\":\"Navbar_withBg__2FjDY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"images\":\"Images_images__3Z7Qo\",\"images-container\":\"Images_images-container__18F0w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filter\":\"Filter_filter__3tnup\",\"upsidedown\":\"Filter_upsidedown__2-XNE\",\"active\":\"Filter_active__3bZx9\",\"color\":\"Filter_color__1-Hu8\",\"by-category\":\"Filter_by-category__3O1FV\",\"by-style\":\"Filter_by-style__1vVaM\",\"order\":\"Filter_order__XG2_n\",\"by-color\":\"Filter_by-color__2Aw9n\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"enter\":\"fade_enter__BImp2\",\"enterActive\":\"fade_enterActive__2TE3R\",\"exit\":\"fade_exit__1Cmdm\",\"exitActive\":\"fade_exitActive__22Qcg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Index_content__3TVge\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"favorites\":\"Favorites_favorites__GD_3K\"};","import axios from 'axios'\r\n\r\nconst urlBase = `https://pixabay.com/api/?key=${process.env.REACT_APP_API_KEY}`\r\n\r\nexport const fetchById = id =>{\r\n\r\n   return (dispatch, state) =>{\r\n      axios.get(`${urlBase}&id=${id}`)\r\n         .then(({data}) => dispatch(fetchByIdSuccess(data.hits[0])))\r\n         .catch(err => console.log(err))\r\n   }\r\n}\r\n\r\nconst fetchByIdSuccess = (image) => ({\r\n   type: \"FETCH_BY_ID_SUCCESS\",\r\n   payload: {image}\r\n})\r\n\r\nexport const fetchImages = (options) =>{\r\n\r\n   return (dispatch, state) =>{\r\n      dispatch(fetchImagesBegin(options.query, options.limit))\r\n\r\n      const {byCategory, byColors, bySize, byImageType, order} = state()['filter']\r\n      const filterOptions = `image_type=${byImageType}&order=${order}&category=${byCategory}&colors=${byColors}&page=${options.page}`\r\n\r\n      axios.get(`${urlBase}&q=${options.query}&per_page=${options.limit}&${filterOptions}`)\r\n         .then(res => dispatch(fetchImagesSuccess(res.data.hits)))\r\n         .catch(err => console.log(err))\r\n   }\r\n}\r\n\r\nconst fetchImagesBegin = (query, limit) => ({\r\n   type: \"FETCH_IMAGES_BEGIN\",\r\n   payload: {query, limit}\r\n})\r\n\r\nconst fetchImagesSuccess = (images) => ({\r\n   type: \"FETCH_IMAGES_SUCCESS\",\r\n   payload: {images}\r\n})\r\n\r\n// --------------------- //\r\n\r\nexport const changeQuery = (query) => ({\r\n   type: \"CHANGE_QUERY\",\r\n   payload: {query}\r\n})\r\n\r\nexport const clearImages = () => ({\r\n   type: \"CLEAR_IMAGES\"\r\n})","import React, {useState, useEffect} from 'react'\r\nimport {NavLink, withRouter} from 'react-router-dom'\r\nimport styles from './Navbar.module.scss'\r\nimport {GoMarkGithub, GoSearch} from 'react-icons/go'\r\nimport {useDispatch} from 'react-redux'\r\nimport {changeQuery, fetchImages, clearImages} from \"../../store/actions/imageActions\"\r\n\r\n\r\n\r\nconst Navbar = ({  history }) =>{\r\n\r\n   const [query, setQuery] = useState('')\r\n   const [isSearching, setSearching] = useState(false)\r\n   const [scrollY, setScrollY] = useState(0)\r\n\r\n   const dispatch = useDispatch()\r\n\r\n   useEffect(() =>{\r\n      window.addEventListener('scroll', () =>{\r\n         setScrollY(window.scrollY)\r\n      })\r\n   })\r\n\r\n   const keyUpHandler = e =>{\r\n      if(e.key === 'Enter'){\r\n         dispatch(clearImages())\r\n         dispatch(changeQuery(query))\r\n         dispatch(fetchImages({query, page: 1, limit: 20}))\r\n         history.push('/')\r\n      }\r\n      else{\r\n         setQuery(e.target.value)\r\n      }\r\n   }\r\n\r\n\r\n   return (\r\n      <nav className={scrollY > 50 ? styles.withBg : null}>\r\n\r\n         <section className={styles.brand}>\r\n            <NavLink to=\"/\">Tableaux</NavLink>\r\n         </section>\r\n\r\n         <section className={styles.navigation}>\r\n\r\n            <div\r\n               className={[styles.search, isSearching ? styles.searching : null].join(' ')}\r\n               onClick={() => setSearching(!isSearching)}\r\n            >\r\n               <input type=\"text\" placeholder=\"What do you want to see?\"\r\n                      style={{opacity: isSearching ? '1' : '0'}}\r\n                      onClick={e => e.stopPropagation()}\r\n                      onKeyUp={keyUpHandler}\r\n\r\n               />\r\n               <GoSearch/>\r\n            </div>\r\n\r\n            <NavLink to=\"/favorites\">Favorites</NavLink>\r\n\r\n            <GoMarkGithub className={styles.github}/>\r\n         </section>\r\n      </nav>\r\n   )\r\n}\r\n\r\nexport default withRouter(Navbar)","import React from 'react'\r\nimport Navbar from '../../components/Navbar/Navbar'\r\n\r\nexport default ({children}) =>{\r\n   return (\r\n      <div className=\"layout\">\r\n         <Navbar/>\r\n\r\n         <div className=\"layout-children\">\r\n            {children}\r\n         </div>\r\n      </div>\r\n   )\r\n}","import React from 'react'\r\nimport {CSSTransition} from 'react-transition-group'\r\nimport fade from './fade.module.css'\r\n\r\nexport default ({children, toggle}) =>{\r\n\r\n   return (\r\n      <CSSTransition in={toggle} timeout={500} unmountOnExit classNames={{...fade}}>\r\n         {children}\r\n      </CSSTransition>\r\n   )\r\n}","\r\nexport const updateFilter = (prop, value) => ({\r\n   type: \"UPDATE_FILTER\",\r\n   payload: {prop, value}\r\n})","import React, {useState} from 'react'\r\nimport styles from './Filter.module.scss'\r\nimport {FaAngleDoubleDown} from 'react-icons/fa'\r\nimport Fade from '../../assets/transitions/Fade'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {fetchImages, clearImages} from \"../../store/actions/imageActions\"\r\nimport {updateFilter} from \"../../store/actions/filterActions\"\r\n\r\n\r\nexport default () =>{\r\n\r\n   const currFilter = useSelector(state => state.filter)\r\n   const query = useSelector(state => state.image.query)\r\n   const dispatch = useDispatch()\r\n\r\n   const [filterExpanded, toggleFilterExpanded] = useState(false)\r\n\r\n   const f = {\r\n      categories: ['fashion', 'nature', 'backgrounds', 'science', 'education', 'people',\r\n         'feelings', 'religion', 'health', 'places', 'animals', 'industry', 'food', 'computer'],\r\n      colors: [\"red\", \"orange\", \"yellow\", \"green\", \"turquoise\",\r\n         \"blue\", \"lilac\", \"pink\", \"white\", \"gray\", \"black\", \"brown\"],\r\n      styles: [\"all\", \"photo\", \"illustration\", \"vector\"],\r\n      order: [\"popular\", \"latest\"]\r\n   }\r\n\r\n   const [filters] = useState(f)\r\n\r\n\r\n   const handleClick = (e, prop, isStatic) => {\r\n      if(!isStatic) dispatch(updateFilter(prop, e.target.innerText.trim()))\r\n      else dispatch(updateFilter(prop, ''))\r\n\r\n      // find which article are we in\r\n      const className = e.target.parentElement.parentElement.className\r\n      const article = document.querySelector('.' + (className ? className : styles[\"by-color\"]))\r\n\r\n      // different node tree for .by-color than other elements, need to check for that first\r\n      const children = article.className !== styles[\"by-color\"]\r\n         ? article.children[1].children\r\n         : article.children[0].children[1].children\r\n\r\n      // remove all .active class occurrences\r\n      Array.from(children).forEach(el => el.classList.remove(styles.active))\r\n\r\n      //add to the clicked element .active class\r\n      e.target.classList.add(styles.active)\r\n   }\r\n   return (\r\n      <section className={styles.filter}>\r\n\r\n         <h2 onClick={() => toggleFilterExpanded(!filterExpanded)}>\r\n            Filter searched images\r\n\r\n            <FaAngleDoubleDown className={filterExpanded ? styles.upsidedown : null}/>\r\n\r\n         </h2>\r\n\r\n         <Fade toggle={filterExpanded}>\r\n            <div>\r\n               <button onClick={() => {\r\n                  dispatch(clearImages())\r\n                  dispatch(fetchImages({query, limit: 20, page: 1}))\r\n               }}>Change Filter Settings</button>\r\n\r\n               <article className={styles[\"by-category\"]}>\r\n                  <h3>By category</h3>\r\n                  <div>\r\n                     <span onClick={e => handleClick(e, 'byCategory', true)} className={styles.active}>all</span>\r\n                     {filters.categories.map(category => <span key={category} onClick={e => handleClick(e, 'byCategory')}>{category} </span>)}\r\n                  </div>\r\n               </article>\r\n\r\n               <article className={styles[\"by-color\"]}>\r\n                  <section>\r\n                     <h3>By color</h3>\r\n                     <div>\r\n                        {\r\n                           filters.colors.map(color =>\r\n                              <span style={{backgroundColor: color}}\r\n                                    key={color}\r\n                                    onClick={e => handleClick(e, 'byColors')}\r\n                                    className={styles.color}>\r\n                                 {color}\r\n                              </span>\r\n                           )}\r\n                        <span onClick={e => handleClick(e, 'byColors', true)} className={styles.active}> all</span>\r\n                     </div>\r\n                  </section>\r\n\r\n                  <section>\r\n                     <h3>By size</h3>\r\n                     <div>\r\n                        <input type=\"text\" placeholder=\"Minimal Width\"/>\r\n                        <input type=\"text\" placeholder=\"Maximal Width\"/>\r\n                     </div>\r\n                  </section>\r\n\r\n               </article>\r\n\r\n               <article className={styles[\"by-style\"]}>\r\n                  <h3>By style</h3>\r\n                  <div>\r\n                     {\r\n                        filters.styles.map((style, i) =>\r\n                           <span onClick={e => handleClick(e, 'byImageType')}\r\n                                 key={style}\r\n                                 className={i === 0 ? styles.active : null}>{style}</span>\r\n                        )\r\n                     }\r\n                  </div>\r\n               </article>\r\n\r\n               <article className={styles[\"order\"]}>\r\n                  <h3>Sort by</h3>\r\n                  <div>\r\n                     {\r\n                        filters.order.map((orderType, i) =>\r\n                           <span onClick={e => handleClick(e, 'order')}\r\n                                 key={orderType}\r\n                                 className={i === 0 ? styles.active : null}>{orderType}</span>\r\n                        )\r\n                     }\r\n                  </div>\r\n               </article>\r\n\r\n            </div>\r\n         </Fade>\r\n\r\n      </section>\r\n   )\r\n\r\n}\r\n\r\n","import React, {useState} from 'react'\r\nimport styles from './Image.module.scss'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {MdThumbUp, MdRemoveRedEye} from 'react-icons/md'\r\nimport Fade from '../../assets/transitions/Fade'\r\n\r\nfunction Image({img, history}){\r\n\r\n   const [showCover, toggleShowCover] = useState(false)\r\n   const [wideEnough, setWideEnough] = useState(document.documentElement.clientWidth > 1000)\r\n\r\n   const proportion = img.imageWidth / img.imageHeight\r\n\r\n   // determine if the screen is wide enough to display 2 columns\r\n   window.addEventListener('resize', () =>{\r\n      document.documentElement.clientWidth < 1000\r\n         ? setWideEnough(false)\r\n         : setWideEnough(true)\r\n   })\r\n\r\n\r\n   const inlineStyle = {\r\n      gridColumn: (proportion > 1.7 && wideEnough) && \"span 2\"\r\n   }\r\n\r\n   return (\r\n\r\n      <article className={styles.image}\r\n               style={inlineStyle}\r\n               onClick={() => history.push(`/${img.id}`)}\r\n               onMouseOver={e => toggleShowCover(true)}\r\n               onMouseOut={e => toggleShowCover(false)}\r\n      >\r\n         <img src={img.largeImageURL} alt=\"doggy\"/>\r\n         {\r\n            (\r\n               <Fade toggle={showCover}>\r\n                  <div className={[styles.cover, showCover ? null : styles.hidden].join(' ')}>\r\n\r\n                     <div className={styles.dim}>\r\n                     </div>\r\n\r\n                     <div className={styles.details}>\r\n\r\n                        <div className={styles.info}>\r\n                           <p>By\r\n                              <span> {img.user}</span>\r\n                           </p>\r\n                           <span>{img.tags}</span>\r\n                        </div>\r\n\r\n                        <div className={styles.stats}>\r\n                           <span>{img.views} <MdRemoveRedEye/></span>\r\n                           <span>{img.likes} <MdThumbUp/></span>\r\n                        </div>\r\n\r\n                     </div>\r\n\r\n                  </div>\r\n               </Fade>\r\n            )\r\n\r\n         }\r\n      </article>\r\n   )\r\n}\r\n\r\n\r\nexport default withRouter(Image)","import React from 'react'\r\nimport Image from './Image'\r\nimport styles from './Images.module.scss'\r\nimport Fade from '../../assets/transitions/Fade'\r\n\r\nexport default ({images, loading, query}) =>{\r\n\r\n\r\n   return (\r\n      <section className={styles.images}>\r\n\r\n         {query ? <h2> {`Images related to \"${query}\"`} </h2> : null}\r\n\r\n         <Fade toggle={!loading || images.length > 0}>\r\n            <div className={styles[\"images-container\"]}>\r\n               {\r\n                  !loading || images.length > 0 ? images.map(img => <Image key={img.id} img={img}/>) : null\r\n               }\r\n            </div>\r\n         </Fade>\r\n\r\n      </section>\r\n   )\r\n}\r\n\r\n","import React, {useEffect} from 'react'\r\nimport Filter from '../../components/Filter/Filter'\r\nimport styles from './index.module.scss'\r\nimport Images from '../../components/Images/Images'\r\nimport {useSelector, useDispatch} from \"react-redux\"\r\nimport {fetchImages} from \"../../store/actions/imageActions\"\r\n\r\nexport default props => {\r\n\r\n   const dispatch = useDispatch()\r\n   const image = useSelector(state => state.image)\r\n\r\n   // Infinite scroll (actually not infinite)\r\n   let height\r\n   let scrollY\r\n   let windowSize = document.documentElement.clientHeight\r\n\r\n   let canIFetch = true\r\n\r\n\r\n\r\n   function handleScroll() {\r\n      scrollY = window.pageYOffset\r\n      height = document.documentElement.scrollHeight\r\n      console.log(image.query)\r\n\r\n      if(height - (scrollY + windowSize) <= 150) {\r\n         if(canIFetch) dispatch(fetchImages({query: image.query, page:   Math.floor(Math.random() *10 ), limit: 20}))\r\n         canIFetch = false\r\n\r\n         setTimeout(() => canIFetch = true, 1000)\r\n      }\r\n   }\r\n\r\n   useEffect(() => {\r\n      window.addEventListener('scroll', handleScroll)\r\n      return () => window.removeEventListener('scroll', handleScroll)\r\n   })\r\n\r\n\r\n   return (\r\n      <div className={styles.content}>\r\n         <Filter />\r\n         <Images images={image.images} loading={image.loading} query={image.query}/>\r\n      </div>\r\n   )\r\n\r\n}","import React, {useState, useEffect} from 'react'\r\nimport styles from './Favorites.module.scss'\r\nimport Images from '../../components/Images/Images'\r\n\r\nexport default props => {\r\n\r\n   const [favorites, setFavorites] = useState([])\r\n\r\n   useEffect(() => {\r\n      setFavorites(JSON.parse(localStorage.getItem('favorites')))\r\n   }, [])\r\n\r\n   return (\r\n      <div className={styles.favorites}>\r\n         <Images images={favorites}/>\r\n      </div>\r\n   )\r\n}","import React, {useState, useEffect} from 'react'\r\nimport styles from './Image.module.scss'\r\nimport {MdFileDownload, MdThumbUp, MdRemoveRedEye, MdAddBox} from 'react-icons/md'\r\nimport {fetchById} from \"../../store/actions/imageActions\"\r\nimport {useDispatch, useSelector} from 'react-redux'\r\n\r\nconst Image = props =>{\r\n\r\n   const images = useSelector(state => state.image.images)\r\n   const dispatch = useDispatch()\r\n   const [hasNoProfileImage, setHasNoProfileImage] = useState(false)\r\n\r\n\r\n   const imgFromStore = images.find(img => img.id.toString() === props.match.params.img_ID)\r\n   const imgFromFetch = useSelector(state => state.image.image)\r\n\r\n   // If the image is not in store, fetch id individually\r\n   const id = props.match.params.img_ID\r\n   useEffect(() =>{\r\n      if(!imgFromStore){\r\n         dispatch(fetchById(id))\r\n      }\r\n   }, [])\r\n\r\n   const img = imgFromStore || imgFromFetch\r\n\r\n   const addToStorage = img =>{\r\n      const favorites = JSON.parse(localStorage.getItem('favorites')) || []\r\n      favorites.push(img)\r\n      // removing duplicates\r\n      const unique =\r\n         Array\r\n            .from(new Set(favorites.map(a => a.id)))\r\n            .map(id =>{\r\n               return favorites.find(a => a.id === id)\r\n            })\r\n\r\n      localStorage.setItem('favorites', JSON.stringify(unique))\r\n   }\r\n\r\n   return (\r\n      img ? (<div className={styles.content}>\r\n            <section className={styles.left}>\r\n               <img src={img.largeImageURL} alt=\"\"/>\r\n\r\n               <div className={styles.numbers}>\r\n                  <h4>{img.likes} <MdThumbUp/></h4>\r\n                  <h4>{img.views} <MdRemoveRedEye/></h4>\r\n                  <h4>{img.downloads} <MdFileDownload/></h4>\r\n                  <p>{img.tags}</p>\r\n               </div>\r\n            </section>\r\n\r\n            <section className={styles.right}>\r\n\r\n               <div className={styles.author}>\r\n                  <h3>By {img.user}</h3>\r\n\r\n                  {\r\n                     hasNoProfileImage\r\n                        ? null\r\n                        : <img src={img.userImageURL} alt=\"userImage\" onError={() => setHasNoProfileImage(true)}/>\r\n                  }\r\n               </div>\r\n\r\n               <div className={styles.buttons}>\r\n                  <h3 className={styles.favorites} onClick={() => addToStorage(img)}>\r\n                     Add to favorites\r\n                     <MdAddBox/>\r\n                  </h3>\r\n\r\n                  <a download=\"filename.jpg\" target=\"_blank\" href={img.largeImageURL}>\r\n                     Download Picture\r\n                     <MdFileDownload/>\r\n                  </a>\r\n               </div>\r\n\r\n            </section>\r\n         </div>)\r\n         : null\r\n   )\r\n}\r\n\r\nexport default Image","\r\nconst initalState = {\r\n   images: [],\r\n   loading: false,\r\n   query: 'nature',\r\n   limit: 20,\r\n   image: null\r\n}\r\n\r\nexport default (state = initalState, action) => {\r\n\r\n   switch(action.type){\r\n\r\n      case \"FETCH_BY_ID_SUCCESS\" :\r\n         return {\r\n            ...state,\r\n            image: action.payload.image\r\n         }\r\n\r\n      case \"FETCH_IMAGES_BEGIN\" :\r\n         return {\r\n            ...state,\r\n            loading: true,\r\n            query: action.payload.query,\r\n            limit: action.payload.limit\r\n         }\r\n\r\n      case \"FETCH_IMAGES_SUCCESS\" :\r\n         return {\r\n            ...state,\r\n            images: [...state.images, ...action.payload.images],\r\n            loading: false\r\n         }\r\n\r\n      case \"CHANGE_QUERY\" :\r\n         return {\r\n            ...state,\r\n            query: action.payload.query\r\n         }\r\n\r\n      case \"CLEAR_IMAGES\" :\r\n         return {\r\n            ...state,\r\n            images: []\r\n         }\r\n\r\n      default:\r\n         return state\r\n\r\n   }\r\n}","\r\nconst initialState = {\r\n   byCategory: '',\r\n   byColors: '',\r\n   bySize: {},\r\n   byImageType: 'all',\r\n   order: 'popular'\r\n\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n\r\n   switch(action.type) {\r\n\r\n      case \"UPDATE_FILTER\" :\r\n         return {\r\n            ...state,\r\n            [action.payload.prop]: action.payload.value\r\n         }\r\n\r\n      default :\r\n         return state\r\n   }\r\n}","import {combineReducers} from 'redux'\r\nimport image from './image'\r\nimport filter from './filter'\r\n\r\n\r\nexport default combineReducers({\r\n   filter,\r\n   image\r\n})","import {createStore, applyMiddleware, compose} from 'redux'\r\nimport rootReducer from './reducers/root'\r\nimport thunk from 'redux-thunk';\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(rootReducer, composeEnhancers(\r\n   applyMiddleware(thunk)\r\n))\r\n\r\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App/App'\nimport {Provider} from 'react-redux'\nimport store from './store/store'\n\nReactDOM.render(\n   <Provider store={store}> <App /> </Provider>,\n   document.getElementById('root')\n)\n\n","import React, {useEffect} from 'react'\nimport './App.css'\nimport MainLayout from '../../layouts/Main/Main'\nimport {BrowserRouter, Route, Switch} from 'react-router-dom'\nimport Index from '../../pages/Index/index'\nimport Favorites from '../../pages/Favorites/Favorites'\nimport Image from '../../pages/Image/Image'\nimport {fetchImages} from \"../../store/actions/imageActions\"\nimport {useDispatch} from 'react-redux'\n\nexport default () => {\n   const dispatch = useDispatch()\n\n   useEffect(() => {\n      dispatch(fetchImages({query: \"nature\", limit: 20, page: 1}))\n   }, [])\n\n   return (\n      <div className=\"App\">\n         {/* basename=\"/Tableaux\" */}\n         <BrowserRouter basename=\"/Tableaux\">\n            <MainLayout>\n\n               <Switch>\n                  <Route exact path=\"/\" component={Index}/>\n                  <Route path=\"/favorites\" component={Favorites}/>\n                  <Route path=\"/:img_ID\" component={Image}/>\n               </Switch>\n\n            </MainLayout>\n         </BrowserRouter>\n      </div>\n   )\n}\n\n"],"sourceRoot":""}