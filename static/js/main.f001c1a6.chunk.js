(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports={image:"Image_image__2RtBd",dim:"Image_dim__14TuO",hidden:"Image_hidden__QFiGa",cover:"Image_cover__34a6N",details:"Image_details__f8OCZ",info:"Image_info__2P9rJ",stats:"Image_stats__BHZaG"}},17:function(e,t,a){e.exports={content:"Image_content__1kTYX",left:"Image_left__C96UZ",numbers:"Image_numbers__23a9I",right:"Image_right__1B2VB",author:"Image_author__3eUlj",buttons:"Image_buttons__3XuYG",favorites:"Image_favorites__2Uo2w"}},18:function(e,t,a){e.exports={brand:"Navbar_brand__l4W2Z",navigation:"Navbar_navigation__1pdhO",searching:"Navbar_searching__3bg4E",search:"Navbar_search__2Kv3m",github:"Navbar_github__1JU01",withBg:"Navbar_withBg__2FjDY"}},32:function(e,t,a){e.exports={images:"Images_images__3Z7Qo","images-container":"Images_images-container__18F0w"}},4:function(e,t,a){e.exports={filter:"Filter_filter__3tnup",upsidedown:"Filter_upsidedown__2-XNE",active:"Filter_active__3bZx9",color:"Filter_color__1-Hu8","by-category":"Filter_by-category__3O1FV","by-style":"Filter_by-style__1vVaM",order:"Filter_order__XG2_n","by-color":"Filter_by-color__2Aw9n"}},45:function(e,t,a){e.exports={enter:"fade_enter__BImp2",enterActive:"fade_enterActive__2TE3R",exit:"fade_exit__1Cmdm",exitActive:"fade_exitActive__22Qcg"}},49:function(e,t,a){e.exports={content:"Index_content__3TVge"}},50:function(e,t,a){e.exports={favorites:"Favorites_favorites__GD_3K"}},53:function(e,t,a){e.exports=a(84)},58:function(e,t,a){},59:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(19),l=a.n(c),i=(a(58),a(59),a(6)),o=a(20),u=a(15),s=a(18),m=a.n(s),g=a(31),d=a(3),E=a(28),_=a.n(E),f="https://pixabay.com/api/?key=".concat("13020972-7188b3caf1136e1d9e80cd75a"),p=function(e){return{type:"FETCH_BY_ID_SUCCESS",payload:{image:e}}},y=function(e){return function(t,a){t(b(e.query,e.limit));var n=a().filter,r=n.byCategory,c=n.byColors,l=(n.bySize,n.byImageType),i=n.order,o="image_type=".concat(l,"&order=").concat(i,"&category=").concat(r,"&colors=").concat(c,"&page=").concat(e.page);_.a.get("".concat(f,"&q=").concat(e.query,"&per_page=").concat(e.limit,"&").concat(o)).then(function(e){return t(v(e.data.hits))}).catch(function(e){return console.log(e)})}},b=function(e,t){return{type:"FETCH_IMAGES_BEGIN",payload:{query:e,limit:t}}},v=function(e){return{type:"FETCH_IMAGES_SUCCESS",payload:{images:e}}},h=Object(u.f)(function(e){var t=e.history,a=Object(n.useState)(""),c=Object(i.a)(a,2),l=c[0],u=c[1],s=Object(n.useState)(!1),E=Object(i.a)(s,2),_=E[0],f=E[1],p=Object(n.useState)(0),b=Object(i.a)(p,2),v=b[0],h=b[1],O=Object(d.b)();Object(n.useEffect)(function(){window.addEventListener("scroll",function(){h(window.scrollY)})});return r.a.createElement("nav",{className:v>50?m.a.withBg:null},r.a.createElement("section",{className:m.a.brand},r.a.createElement(o.b,{to:"/"},"Tableaux")),r.a.createElement("section",{className:m.a.navigation},r.a.createElement("div",{className:[m.a.search,_?m.a.searching:null].join(" "),onClick:function(){return f(!_)}},r.a.createElement("input",{type:"text",placeholder:"What do you want to see?",style:{opacity:_?"1":"0"},onClick:function(e){return e.stopPropagation()},onKeyUp:function(e){"Enter"===e.key?(O({type:"CLEAR_IMAGES"}),O(function(e){return{type:"CHANGE_QUERY",payload:{query:e}}}(l)),O(y({query:l,page:1,limit:20})),t.push("/")):u(e.target.value)}}),r.a.createElement(g.b,null)),r.a.createElement(o.b,{to:"/favorites"},"Favorites"),r.a.createElement(g.a,{className:m.a.github})))}),O=function(e){var t=e.children;return r.a.createElement("div",{className:"layout"},r.a.createElement(h,null),r.a.createElement("div",{className:"layout-children"},t))},N=a(4),j=a.n(N),I=a(48),C=a(11),S=a(86),w=a(45),k=a.n(w),x=function(e){var t=e.children,a=e.toggle;return r.a.createElement(S.a,{in:a,timeout:500,unmountOnExit:!0,classNames:Object(C.a)({},k.a)},t)},F=function(e,t){return{type:"UPDATE_FILTER",payload:{prop:e,value:t}}},A=function(){Object(d.c)(function(e){return e.filter});var e=Object(d.c)(function(e){return e.image.query}),t=Object(d.b)(),a=Object(n.useState)(!1),c=Object(i.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)({categories:["fashion","nature","backgrounds","science","education","people","feelings","religion","health","places","animals","industry","food","computer"],colors:["red","orange","yellow","green","turquoise","blue","lilac","pink","white","gray","black","brown"],styles:["all","photo","illustration","vector"],order:["popular","latest"]}),s=Object(i.a)(u,1)[0],m=function(e,a,n){t(F(a,n?"":e.target.innerText.trim()));var r=e.target.parentElement.parentElement.className,c=document.querySelector("."+(r||j.a["by-color"])),l=c.className!==j.a["by-color"]?c.children[1].children:c.children[0].children[1].children;Array.from(l).forEach(function(e){return e.classList.remove(j.a.active)}),e.target.classList.add(j.a.active)};return r.a.createElement("section",{className:j.a.filter},r.a.createElement("h2",{onClick:function(){return o(!l)}},"Filter searched images",r.a.createElement(I.a,{className:l?j.a.upsidedown:null})),r.a.createElement(x,{toggle:l},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){t({type:"CLEAR_IMAGES"}),t(y({query:e,limit:20,page:1}))}},"Change Filter Settings"),r.a.createElement("article",{className:j.a["by-category"]},r.a.createElement("h3",null,"By category"),r.a.createElement("div",null,r.a.createElement("span",{onClick:function(e){return m(e,"byCategory",!0)},className:j.a.active},"all"),s.categories.map(function(e){return r.a.createElement("span",{key:e,onClick:function(e){return m(e,"byCategory")}},e," ")}))),r.a.createElement("article",{className:j.a["by-color"]},r.a.createElement("section",null,r.a.createElement("h3",null,"By color"),r.a.createElement("div",null,s.colors.map(function(e){return r.a.createElement("span",{style:{backgroundColor:e},key:e,onClick:function(e){return m(e,"byColors")},className:j.a.color},e)}),r.a.createElement("span",{onClick:function(e){return m(e,"byColors",!0)},className:j.a.active}," all"))),r.a.createElement("section",null,r.a.createElement("h3",null,"By size"),r.a.createElement("div",null,r.a.createElement("input",{type:"text",placeholder:"Minimal Width"}),r.a.createElement("input",{type:"text",placeholder:"Maximal Width"})))),r.a.createElement("article",{className:j.a["by-style"]},r.a.createElement("h3",null,"By style"),r.a.createElement("div",null,s.styles.map(function(e,t){return r.a.createElement("span",{onClick:function(e){return m(e,"byImageType")},key:e,className:0===t?j.a.active:null},e)}))),r.a.createElement("article",{className:j.a.order},r.a.createElement("h3",null,"Sort by"),r.a.createElement("div",null,s.order.map(function(e,t){return r.a.createElement("span",{onClick:function(e){return m(e,"order")},key:e,className:0===t?j.a.active:null},e)}))))))},q=a(49),T=a.n(q),B=a(16),U=a.n(B),G=a(13);var L=Object(u.f)(function(e){var t=e.img,a=e.history,c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],u=l[1],s=Object(n.useState)(document.documentElement.clientWidth>1e3),m=Object(i.a)(s,2),g=m[0],d=m[1],E=t.imageWidth/t.imageHeight;window.addEventListener("resize",function(){document.documentElement.clientWidth<1e3?d(!1):d(!0)});var _={gridColumn:E>1.7&&g&&"span 2"};return r.a.createElement("article",{className:U.a.image,style:_,onClick:function(){return a.push("/".concat(t.id))},onMouseOver:function(e){return u(!0)},onMouseOut:function(e){return u(!1)}},r.a.createElement("img",{src:t.largeImageURL,alt:"doggy"}),r.a.createElement(x,{toggle:o},r.a.createElement("div",{className:[U.a.cover,o?null:U.a.hidden].join(" ")},r.a.createElement("div",{className:U.a.dim}),r.a.createElement("div",{className:U.a.details},r.a.createElement("div",{className:U.a.info},r.a.createElement("p",null,"By",r.a.createElement("span",null," ",t.user)),r.a.createElement("span",null,t.tags)),r.a.createElement("div",{className:U.a.stats},r.a.createElement("span",null,t.views," ",r.a.createElement(G.c,null)),r.a.createElement("span",null,t.likes," ",r.a.createElement(G.d,null)))))))}),M=a(32),R=a.n(M),H=function(e){var t=e.images,a=e.loading,n=e.query;return r.a.createElement("section",{className:R.a.images},n?r.a.createElement("h2",null," ",'Images related to "'.concat(n,'"')," "):null,r.a.createElement(x,{toggle:!a||t.length>0},r.a.createElement("div",{className:R.a["images-container"]},!a||t.length>0?t.map(function(e){return r.a.createElement(L,{key:e.id,img:e})}):null)))},D=function(e){var t,a,c=Object(d.b)(),l=Object(d.c)(function(e){return e.image}),i=document.documentElement.clientHeight,o=!0;function u(){a=window.pageYOffset,t=document.documentElement.scrollHeight,console.log(l.query),t-(a+i)<=150&&(o&&c(y({query:l.query,page:Math.floor(10*Math.random()),limit:20})),o=!1,setTimeout(function(){return o=!0},1e3))}return Object(n.useEffect)(function(){return window.addEventListener("scroll",u),function(){return window.removeEventListener("scroll",u)}}),r.a.createElement("div",{className:T.a.content},r.a.createElement(A,null),r.a.createElement(H,{images:l.images,loading:l.loading,query:l.query}))},Y=a(50),J=a.n(Y),W=function(e){var t=Object(n.useState)([]),a=Object(i.a)(t,2),c=a[0],l=a[1];return Object(n.useEffect)(function(){l(JSON.parse(localStorage.getItem("favorites")))},[]),r.a.createElement("div",{className:J.a.favorites},r.a.createElement(H,{images:c}))},P=a(17),X=a.n(P),Z=function(e){var t=Object(d.c)(function(e){return e.image.images}),a=Object(d.b)(),c=Object(n.useState)(!1),l=Object(i.a)(c,2),o=l[0],u=l[1],s=t.find(function(t){return t.id.toString()===e.match.params.img_ID}),m=Object(d.c)(function(e){return e.image.image}),g=e.match.params.img_ID;Object(n.useEffect)(function(){s||a(function(e){return function(t,a){_.a.get("".concat(f,"&id=").concat(e)).then(function(e){var a=e.data;return t(p(a.hits[0]))}).catch(function(e){return console.log(e)})}}(g))},[]);var E=s||m;return E?r.a.createElement("div",{className:X.a.content},r.a.createElement("section",{className:X.a.left},r.a.createElement("img",{src:E.largeImageURL,alt:""}),r.a.createElement("div",{className:X.a.numbers},r.a.createElement("h4",null,E.likes," ",r.a.createElement(G.d,null)),r.a.createElement("h4",null,E.views," ",r.a.createElement(G.c,null)),r.a.createElement("h4",null,E.downloads," ",r.a.createElement(G.b,null)),r.a.createElement("p",null,E.tags))),r.a.createElement("section",{className:X.a.right},r.a.createElement("div",{className:X.a.author},r.a.createElement("h3",null,"By ",E.user),o?null:r.a.createElement("img",{src:E.userImageURL,alt:"userImage",onError:function(){return u(!0)}})),r.a.createElement("div",{className:X.a.buttons},r.a.createElement("h3",{className:X.a.favorites,onClick:function(){return function(e){var t=JSON.parse(localStorage.getItem("favorites"))||[];t.push(e);var a=Array.from(new Set(t.map(function(e){return e.id}))).map(function(e){return t.find(function(t){return t.id===e})});localStorage.setItem("favorites",JSON.stringify(a))}(E)}},"Add to favorites",r.a.createElement(G.a,null)),r.a.createElement("a",{download:"filename.jpg",target:"_blank",href:E.largeImageURL},"Download Picture",r.a.createElement(G.b,null))))):null},Q=a(14),V=a(33),z={images:[],loading:!1,query:"pig",limit:20,image:null},K=a(24),$={byCategory:"",byColors:"",bySize:{},byImageType:"all",order:"popular"},ee=Object(Q.c)({filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_FILTER":return Object(C.a)({},e,Object(K.a)({},t.payload.prop,t.payload.value));default:return e}},image:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_BY_ID_SUCCESS":return Object(C.a)({},e,{image:t.payload.image});case"FETCH_IMAGES_BEGIN":return Object(C.a)({},e,{loading:!0,query:t.payload.query,limit:t.payload.limit});case"FETCH_IMAGES_SUCCESS":return Object(C.a)({},e,{images:[].concat(Object(V.a)(e.images),Object(V.a)(t.payload.images)),loading:!1});case"CHANGE_QUERY":return Object(C.a)({},e,{query:t.payload.query});case"CLEAR_IMAGES":return Object(C.a)({},e,{images:[]});default:return e}}}),te=a(51),ae=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Q.d,ne=Object(Q.e)(ee,ae(Object(Q.a)(te.a)));l.a.render(r.a.createElement(d.a,{store:ne}," ",r.a.createElement(function(){var e=Object(d.b)();return Object(n.useEffect)(function(){e(y({query:"nature",limit:20,page:1}))},[]),r.a.createElement("div",{className:"App"},r.a.createElement(o.a,null,r.a.createElement(O,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:D}),r.a.createElement(u.a,{path:"/favorites",component:W}),r.a.createElement(u.a,{path:"/:img_ID",component:Z})))))},null)," "),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.f001c1a6.chunk.js.map